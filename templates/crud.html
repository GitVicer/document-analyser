<!DOCTYPE html>
<html>
<head>
	<title>Project and Manager</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
			background-color: #f2f2f2;
		}
		h1 {
			font-size: 32px;
			font-weight: bold;
			text-align: center;
			margin-top: 50px;
		}
		h2 {
			font-size: 24px;
			font-weight: bold;
			margin-top: 30px;
		}
		.container {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin-top: 30px;
		}
		.button {
			padding: 10px 20px;
			font-size: 16px;
			font-weight: bold;
			color: #fff;
			background-color: #4CAF50;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			margin: 10px;
			transition: background-color 0.3s ease;
		}
		.button:hover {
			background-color: #3e8e41;
		}
		.form {
			display: none;
			width: 300px;
			padding: 20px;
			background-color: #fff;
			border-radius: 4px;
			box-shadow: 0 2px 4px rgba(0,0,0,0.2);
			margin-top: 20px;
		}
		.form input[type="text"] {
			width: 100%;
			padding: 10px;
			margin-bottom: 10px;
			border: 1px solid #ccc;
			border-radius: 4px;
			box-sizing: border-box;
		}
		.form button {
			padding: 10px 20px;
			font-size: 16px;
			font-weight: bold;
			color: #fff;
			background-color: #4CAF50;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			margin-top: 10px;
			transition: background-color 0.3s ease;
		}
		.form button:hover {
			background-color: #3e8e41;
		}
	</style>
</head>
<body>
	<h1>Project and Manager</h1>
	<div class="container">
		<div>
			<h2>Project</h2>
			<button class="button" id="create-project">Create</button>
			<button class="button" id="read-project">Read</button>
			<button class="button" id="update-project">Update</button>
			<button class="button" id="delete-project">Delete</button>
			
			<div class="form" id="create-project-form">
				<input type="text" placeholder="Project name">
				<input type="text" placeholder="Client name">
				<button class="ok">OK</button>
			</div>

			<div class="form" id="read-project-form">
				<input type="text" placeholder="Project Id">
				<button class="ok">OK</button>
			</div>

			<div class="form" id="update-project-form">
				<input type="text" placeholder="Project Id">
				<input type="text" placeholder="New name">
				<input type="text" placeholder="New Client name">
				<button class="ok">OK</button>
			</div>

			<div class="form" id="delete-project-form">
				<input type="text" placeholder="Project Id">
				<button class="ok">OK</button>
			</div>
			
		
		
		</div>
		<div>
			<h2>Manager</h2>
			<button class="button" id="create-manager">Create</button>
			<button class="button" id="read-manager">Read</button>
			<button class="button" id="update-manager">Update</button>
			<button class="button" id="delete-manager">Delete</button>
			<div class="form" id="manager-form">
				<input type="text" placeholder="Manager name">
				<input type="text" placeholder="Project Id">
				<button class="ok">OK</button>
			</div>
		</div>
	</div>
	
	<script>
		const createProjectBtn = document.getElementById('create-project');
		const readProjectBtn = document.getElementById('read-project');
		const updateProjectBtn = document.getElementById('update-project');
		const deleteProjectBtn = document.getElementById('delete-project');
		
		const createProjectForm = document.getElementById('create-project-form');
		const readProjectForm = document.getElementById('read-project-form');
		const updateProjectForm = document.getElementById('update-project-form');
		const deleteProjectForm = document.getElementById('delete-project-form');

		const createManagerBtn = document.getElementById('create-manager');
		const readManagerBtn = document.getElementById('read-manager');
		const updateManagerBtn = document.getElementById('update-manager');
		const deleteManagerBtn = document.getElementById('delete-manager');
		const managerForm = document.getElementById('manager-form');
		
		const forms = document.querySelectorAll('.form');
	
		function alignFormWithButton(button, form) {
			// Get the position and dimensions of the button
			const buttonRect = button.getBoundingClientRect();
			// Set the position of the form to be absolute
			form.style.position = 'absolute';
			// Calculate the left and top positions of the form relative to the button
			const left = buttonRect.left;
			const top = buttonRect.bottom + 10;
			// Set the left and top positions of the form
			form.style.left = left + 'px';
			form.style.top = top + 'px';
		}
	
		createProjectBtn.addEventListener('click', () => {
			createProjectForm.style.display = 'block';
			alignFormWithButton(createProjectBtn, createProjectForm);
		});
	
		deleteProjectBtn.addEventListener('click', () => {
			deleteProjectForm.style.display = 'block';
			alignFormWithButton(deleteProjectBtn, deleteProjectForm);
		});
	
		updateProjectBtn.addEventListener('click', () => {
			updateProjectForm.style.display = 'block';
			alignFormWithButton(updateProjectBtn, updateProjectForm);
		});

		readProjectBtn.addEventListener('click', () => {
			readProjectForm.style.display = 'block';
			alignFormWithButton(readProjectBtn, readProjectForm);
		});
	
		createManagerBtn.addEventListener('click', () => {
			managerForm.style.display = 'block';
			alignFormWithButton(createManagerBtn, managerForm);
		});
	
		deleteManagerBtn.addEventListener('click', () => {
			managerForm.style.display = 'block';
			alignFormWithButton(deleteManagerBtn, managerForm);
		});
	
		updateManagerBtn.addEventListener('click', () => {
			managerForm.style.display = 'block';
			alignFormWithButton(updateManagerBtn, managerForm);
		});

		document.addEventListener('click', (event) => {
  		if (!event.target.closest('button') && !event.target.closest('.form')) {
    		forms.forEach(form => {
      		form.style.display = 'none';
    		});
  			}
        else if (event.target.closest('.ok')){
            forms.forEach(form => {
      		form.style.display = 'none';
    		});
  			}
        });

        //sending data to server

        const okButton = document.querySelector('#create-project-form .ok');
        okButton.addEventListener('click', sendData);
        console.log(okButton);
        
        function sendData(event) {
            console.log('Button clicked!');
  // Prevent the default form submission behavior
  event.preventDefault();
  
  // Get the input values from the form
  const projectName = document.querySelector('#create-project-form input[name="project-name"]').value;
  const clientName = document.querySelector('#create-project-form input[name="client-name"]').value;

  // Create an object with the data
  const data = {
    projectName: projectName,
    clientName: clientName
  };
  
  // Send a POST request with the data to the server
  fetch('http://127.0.0.1:5000/project', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
  })
  .then(response => {
    // Handle the response from the server
    console.log('Response from server:', response);
  })
  .catch(error => {
    // Handle errors that occurred during the request
    console.error('Error sending data:', error);
  });
}

</script>
	
		
